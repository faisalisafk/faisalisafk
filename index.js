const track=document.getElementById("image-track"),checkImage=e=>"image-section"===e.target.id||!(!e.target.classList.contains("image")||"image-track"!==e.target.parentNode.id),handleOnDown=e=>{checkImage(e)&&(track.dataset.mouseDownAt=e.clientX)},handleOnUp=e=>{checkImage(e)&&(track.dataset.mouseDownAt="0",track.dataset.prevPercentage=track.dataset.percentage)},handleOnMove=e=>{if("0"===track.dataset.mouseDownAt)return;const t=(parseFloat(track.dataset.mouseDownAt)-e.clientX)/(window.innerWidth/2)*-100,a=parseFloat(track.dataset.prevPercentage)+t,n=Math.max(Math.min(a,0),-100);track.dataset.percentage=n,track.animate({transform:`translate(${n}%, -50%)`},{duration:1200,fill:"forwards"});for(const e of track.getElementsByClassName("image"))e.animate({objectPosition:100+n+"% center"},{duration:1200,fill:"forwards"})};window.onmousedown=e=>handleOnDown(e),window.ontouchstart=e=>handleOnDown(e.touches[0]),window.onmouseup=e=>handleOnUp(e),window.ontouchend=e=>handleOnUp(e.touches[0]),window.onmousemove=e=>handleOnMove(e),window.ontouchmove=e=>handleOnMove(e.touches[0]);